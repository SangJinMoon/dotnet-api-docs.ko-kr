### <a name="cspparametersparentwindowhandle-now-expects-hwnd-value"></a><span data-ttu-id="2a701-101">CspParameters.ParentWindowHandle 이제 HWND 값이 필요 하며</span><span class="sxs-lookup"><span data-stu-id="2a701-101">CspParameters.ParentWindowHandle now expects HWND value</span></span>

|   |   |
|---|---|
|<span data-ttu-id="2a701-102">설명</span><span class="sxs-lookup"><span data-stu-id="2a701-102">Details</span></span>|<span data-ttu-id="2a701-103"><xref:System.Security.Cryptography.CspParameters.ParentWindowHandle> 값,.NET Framework 2.0에 도입 된 키에 액세스 하는 데 필요한 모든 UI를 부모 창 핸들 값을 등록 하는 응용 프로그램을 사용 하면 (PIN 같은 메시지를 표시 또는 동의 대화 상자)에 지정된 된 창의 모달 하위로 열립니다. .NET Framework 4.7를 대상으로 하는 앱 부터는 Windows Forms 응용 프로그램을 설정할 수는 <xref:System.Security.Cryptography.CspParameters.ParentWindowHandle> 다음과 같은 코드를 사용 하 여 속성:</span><span class="sxs-lookup"><span data-stu-id="2a701-103">The <xref:System.Security.Cryptography.CspParameters.ParentWindowHandle> value, introduced in .NET Framework 2.0, allows an application to register a parent window handle value such that any UI required to access the key (such as a PIN prompt or consent dialog) opens as a modal child to the specified window.Starting with apps that target the .NET Framework 4.7, a Windows Forms application can set the <xref:System.Security.Cryptography.CspParameters.ParentWindowHandle> property with code like the following:</span></span><pre><code class="language-C#">cspParameters.ParentWindowHandle = form.Handle;&#13;&#10;</code></pre><span data-ttu-id="2a701-104">.NET Framework의 이전 버전에서는 값 있을 것으로 예상는 <xref:System.IntPtr?displayProperty=name> 메모리 내의 위치를 나타내는 위치는 [HWND](https://msdn.microsoft.com/library/windows/desktop/aa383751.aspx#HWND) 내 상주 하는 값입니다.</span><span class="sxs-lookup"><span data-stu-id="2a701-104">In previous versions of the .NET Framework, the value was expected to be an <xref:System.IntPtr?displayProperty=name> representing a location in memory where the [HWND](https://msdn.microsoft.com/library/windows/desktop/aa383751.aspx#HWND) value resided.</span></span> <span data-ttu-id="2a701-105">이 속성 폼을 설정 합니다. Windows 7에서 처리 하 고 이전 버전 아무런 영향이 있지만 Windows 8 이상 버전에서 발생 한 &quot; <xref:System.Security.Cryptography.CryptographicException?displayProperty=name>: 매개 변수가 올바르지 않습니다.&quot;</span><span class="sxs-lookup"><span data-stu-id="2a701-105">Setting the property to form.Handle on Windows 7 and earlier versions had no effect, but on Windows 8 and later versions, it results in a &quot;<xref:System.Security.Cryptography.CryptographicException?displayProperty=name>: The parameter is incorrect.&quot;</span></span>|
|<span data-ttu-id="2a701-106">제안 해결 방법</span><span class="sxs-lookup"><span data-stu-id="2a701-106">Suggestion</span></span>|<span data-ttu-id="2a701-107">응용 프로그램이.NET 4.7 대상 또는 부모 창 관계를 등록 하려는 높을수록 간소화 된 형식을 사용 하도록:</span><span class="sxs-lookup"><span data-stu-id="2a701-107">Applications targeting .NET 4.7 or higher wishing to register a parent window relationship are encouraged to use the simplified form:</span></span><pre><code class="language-C#">cspParameters.ParentWindowHandle = form.Handle;&#13;&#10;</code></pre><span data-ttu-id="2a701-108">사용자에 게 전달 하려면 올바른 값이 값을 보유 하는 메모리 위치 주소 되었음을 확인 된 <code>form.Handle</code> AppContext 스위치를 설정 하 여 동작 변경 하지 않을 수 <code>Switch.System.Security.Cryptography.DoNotAddrOfCspParentWindowHandle</code> 를 <code>true</code>합니다.</span><span class="sxs-lookup"><span data-stu-id="2a701-108">Users who had identified that the correct value to pass was the address of a memory location which held the value <code>form.Handle</code> can opt out of the behavior change by setting the AppContext switch <code>Switch.System.Security.Cryptography.DoNotAddrOfCspParentWindowHandle</code> to <code>true</code>.</span></span><ol><li><span data-ttu-id="2a701-109">프로그래밍 방식으로 설정 하 여 compat에서 전환 하는 AppContext 설명 된 대로 [여기](http://blogs.msdn.com/b/dotnet/archive/2015/04/29/net-announcements-at-build-2015.aspx#dotnet46)</span><span class="sxs-lookup"><span data-stu-id="2a701-109">By programmatically setting compat switches on the AppContext, as explained [here](http://blogs.msdn.com/b/dotnet/archive/2015/04/29/net-announcements-at-build-2015.aspx#dotnet46)</span></span></li><li><span data-ttu-id="2a701-110">다음 줄을 app.config 파일의 <code>&lt;runtime&gt;</code> 섹션에 추가</span><span class="sxs-lookup"><span data-stu-id="2a701-110">By adding the following line to the <code>&lt;runtime&gt;</code> section of the app.config file:</span></span></li></ol><pre><code class="language-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Security.Cryptography.DoNotAddrOfCspParentWindowHandle=true&quot;/&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre><span data-ttu-id="2a701-111">이전.NET Framework 버전에서의 응용 프로그램 작업 부하는 AppContext를 설정할 수 있습니다 때 새.NET Framework 4.7 런타임 동작에 참여 하도록 하려는 사용자에 게로 전환 하는 반면 <code>false</code>합니다.</span><span class="sxs-lookup"><span data-stu-id="2a701-111">Conversely, users who wish to opt in to the new behavior on the .NET Framework 4.7 runtime when the application loads under older .NET Framework versions can set the AppContext switch to <code>false</code>.</span></span>|
|<span data-ttu-id="2a701-112">범위</span><span class="sxs-lookup"><span data-stu-id="2a701-112">Scope</span></span>|<span data-ttu-id="2a701-113">부</span><span class="sxs-lookup"><span data-stu-id="2a701-113">Minor</span></span>|
|<span data-ttu-id="2a701-114">버전</span><span class="sxs-lookup"><span data-stu-id="2a701-114">Version</span></span>|<span data-ttu-id="2a701-115">4.7</span><span class="sxs-lookup"><span data-stu-id="2a701-115">4.7</span></span>|
|<span data-ttu-id="2a701-116">형식</span><span class="sxs-lookup"><span data-stu-id="2a701-116">Type</span></span>|<span data-ttu-id="2a701-117">대상 변경</span><span class="sxs-lookup"><span data-stu-id="2a701-117">Retargeting</span></span>|
|<span data-ttu-id="2a701-118">영향을 받는 API</span><span class="sxs-lookup"><span data-stu-id="2a701-118">Affected APIs</span></span>|<ul><li><xref:System.Security.Cryptography.CspParameters.ParentWindowHandle?displayProperty=nameWithType></li></ul>|

